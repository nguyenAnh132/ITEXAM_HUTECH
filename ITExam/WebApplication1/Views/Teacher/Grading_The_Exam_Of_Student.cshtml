@model ITExam.ViewModels.Exam.EssaySubmissionToGradeVM

@{
    Layout = "_TeacherLayout";
    ViewData["Title"] = "Chấm bài tự luận";
}
<div class="px-xl-5 px-md-4 px-2">
    <div class="row mx-0 justify-content-center pt-2">
        <div class="col-lg-6">
            <div class="section-title text-center position-relative mb-4">
                <h2 class="display-4">Chấm bài tự luận</h2>
                <h6 class="d-inline-block position-relative text-secondary text-uppercase pb-2">Đề thi: @Model.ExamTitle</h6>
            </div>
        </div>
    </div>
 
    <div class="bg-primary mb-5 py-3">
        <h3 class="text-white py-3 px-4 m-0">Thông tin sinh viên</h3>
        <div class="d-flex justify-content-between border-bottom px-4">
            <h6 class="text-white my-3">Sinh viên: </h6>
            <h6 class="text-white my-3">@Model.FullName (@Model.StudentID)</h6>
        </div>
        <div class="d-flex justify-content-between border-bottom px-4">
            <h6 class="text-white my-3">Thời gian nộp: </h6>
            <h6 class="text-white my-3">@Model.SubmissionTime</h6>
        </div>
    </div>

    <form asp-action="SaveGradingResult" asp-controller="Teacher" method="post">
        <input type="hidden" name="HistoryId" value="@Model.HistoryId" />

        <table class="table table-bordered align-middle">
            <thead class="table-secondary">
                <tr>
                    <th style="width:5%">#</th>
                    <th style="width:40%">Câu hỏi</th>
                    <th>Câu trả lời</th>
                    <th style="width:10%">Điểm</th>
                </tr>
            </thead>
            <tbody>
                @for (int i = 0; i < Model.ListQuestions.Count; i++)
                {
                    var cau = Model.ListQuestions[i];
                        <tr>
                            <td>@(i + 1)</td>
                            <td>@Html.Raw(cau.QuestionContent)</td>
                            <td>@Html.Raw(cau.StudentAnswer)</td>
                            <td>
                            <input type="hidden" name="ListQuestions[@i].QuestionId" value="@cau.QuestionId" />
                                <input class="form-control" type="number" step="0.25" min="0" max="10"
                                   name="ListQuestions[@i].GradedScore"
                                       value="@cau.GradedScore" />
                            </td>
                        </tr>
                }
            </tbody>
        </table>

        <div class="text-end">
            <button type="submit" class="btn btn-primary">
                <i class="fa-solid fa-floppy-disk me-1"></i> Lưu điểm
            </button>
        </div>
    </form>
</div>