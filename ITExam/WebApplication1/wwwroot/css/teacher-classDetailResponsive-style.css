/* CSS Responsive cho Tab 6 - Nhật ký bài làm */

/* Mobile responsive fixes cho tab-6 */
@media (max-width: 768px) {

    /* Header section responsive */
    #panel-6 .row.align-items-center.border-bottom {
        flex-direction: column;
        align-items: stretch !important;
        gap: 1rem;
    }

        #panel-6 .row.align-items-center.border-bottom .col-12 {
            flex: none;
            width: 100%;
            max-width: 100%;
        }

    /* Title and badge section */
    #panel-6 .d-flex.align-items-center.gap-3 {
        flex-direction: column;
        align-items: flex-start !important;
        gap: 0.5rem !important;
    }

        #panel-6 .d-flex.align-items-center.gap-3 h2 {
            font-size: 1.25rem;
            margin-bottom: 0;
        }

    /* Search input full width */
    #panel-6 .input-group {
        width: 100%;
    }

    /* Student item responsive */
    .student-item {
        padding: 0.75rem 0.5rem !important;
        border-radius: 8px;
    }

        .student-item .text-start {
            flex: 1;
            min-width: 0; /* Cho phép text truncate */
        }

        .student-item .fw-semibold {
            font-size: 0.95rem;
            word-break: break-word;
        }

        .student-item .small {
            font-size: 0.8rem;
        }

        .student-item .badge {
            font-size: 0.7rem;
            white-space: nowrap;
            flex-shrink: 0;
        }

    /* Row container cho student item và nút xóa */
    #view-students .row {
        margin: 0 0 0.5rem 0;
        align-items: stretch;
    }

        /* Cột chứa student item */
        #view-students .row .col-11 {
            padding-right: 0.25rem;
            flex: 1;
            min-width: 0;
        }

        /* Cột chứa nút xóa */
        #view-students .row .col-1 {
            padding-left: 0.25rem;
            flex: 0 0 auto;
            width: auto;
            min-width: 60px;
            max-width: 80px;
        }

    /* Nút xóa responsive */
    .btn-delete-logs {
        font-size: 0.7rem !important;
        padding: 0.25rem 0.35rem !important;
        white-space: nowrap;
        width: 100%;
        min-width: 50px;
        height: fit-content;
        align-self: center;
    }

        .btn-delete-logs i {
            font-size: 0.7rem;
            margin-right: 0.2rem !important;
        }

    /* View logs responsive */
    #view-logs .d-flex.justify-content-between {
        flex-direction: column;
        gap: 1rem;
    }

    #view-logs .d-flex.gap-2 {
        gap: 0.5rem !important;
        flex-wrap: wrap;
    }

    #view-logs .btn-sm {
        font-size: 0.8rem;
        padding: 0.25rem 0.5rem;
        flex: 1;
        min-width: 120px;
    }

    /* Log detail view responsive */
    #view-log-detail .d-flex.justify-content-between {
        flex-direction: column;
        gap: 1rem;
    }

    #view-log-detail .d-flex.gap-2 {
        gap: 0.5rem !important;
        flex-wrap: wrap;
        justify-content: flex-start !important;
    }

    #view-log-detail .form-select {
        min-width: 130px;
        flex: 1;
    }

    #view-log-detail .btn-sm {
        font-size: 0.8rem;
        padding: 0.25rem 0.5rem;
        white-space: nowrap;
    }

    /* Content containers */
    #logsListContainer,
    #detailContent {
        max-height: 50vh !important;
        font-size: 0.85rem;
    }

    /* List group items */
    .list-group-item {
        padding: 0.75rem 0.5rem;
    }

        .list-group-item h6 {
            font-size: 0.9rem;
            margin-bottom: 0.25rem;
        }

        .list-group-item small {
            font-size: 0.75rem;
        }

    /* Log item content */
    .log-item .d-flex.w-100 {
        flex-direction: column;
        gap: 0.25rem;
    }

        .log-item .d-flex.w-100 h6 {
            margin-bottom: 0.25rem;
        }

        .log-item .d-flex.w-100 small {
            align-self: flex-start;
        }
}

/* Extra small screens */
@media (max-width: 576px) {

    /* Further reduce font sizes */
    #panel-6 h2 {
        font-size: 1.1rem;
    }

    .student-item {
        padding: 0.5rem !important;
    }

        .student-item .fw-semibold {
            font-size: 0.9rem;
        }

        .student-item .small {
            font-size: 0.75rem;
        }

    .badge {
        font-size: 0.65rem !important;
    }

    .btn-delete-logs {
        font-size: 0.65rem !important;
        padding: 0.2rem 0.3rem !important;
        min-width: 45px;
    }

    /* Stack buttons vertically on very small screens */
    #view-log-detail .d-flex.gap-2 {
        flex-direction: column;
    }

    #view-log-detail .form-select,
    #view-log-detail .btn-sm {
        width: 100%;
        min-width: auto;
    }

    /* Reduce container heights */
    #logsListContainer,
    #detailContent {
        max-height: 45vh !important;
    }
}

/* Đảm bảo text không bị overflow */
.text-truncate-mobile {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

@media (max-width: 768px) {
    .text-truncate-mobile {
        max-width: calc(100vw - 120px); /* Trừ đi space cho nút xóa */
    }
}

/* Fix cho dropdown và modal trên mobile */
@media (max-width: 768px) {
    .modal-dialog {
        margin: 0.5rem;
        max-width: calc(100% - 1rem);
    }

    .modal-body {
        padding: 1rem 0.75rem;
    }

        .modal-body .form-control,
        .modal-body .form-select {
            font-size: 16px; /* Prevent zoom on iOS */
        }
}

/* Utility classes để hide/show trên mobile */
@media (max-width: 768px) {
    .d-none-mobile {
        display: none !important;
    }

    .d-block-mobile {
        display: block !important;
    }
}

/* Fix cho overflow container */
#view-students {
    overflow-x: hidden;
    width: 100%;
}

#studentLogList {
    width: 100%;
    overflow-x: hidden;
}
